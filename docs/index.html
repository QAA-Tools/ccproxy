<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code Proxy - è½»é‡çº§ Claude ä»£ç†åˆ‡æ¢å·¥å…·</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¤–</text></svg>">
    <style>
        :root {
            --primary: #007AFF;
            --success: #34c759;
            --warning: #f59e0b;
            --danger: #ff3b30;
            --bg: #f5f5f7;
            --card: #ffffff;
            --text: #1d1d1f;
            --muted: #86868b;
            --border: #d2d2d7;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Microsoft YaHei", sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }

        /* Header */
        header {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        header h1 { font-size: 2.5em; margin-bottom: 10px; }
        header p { font-size: 1.2em; opacity: 0.9; }
        .badges { margin-top: 20px; }
        .badges a { margin: 0 5px; }

        /* Navigation */
        nav {
            background: var(--card);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0;
        }
        nav a {
            display: block;
            padding: 15px 20px;
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }
        nav a:hover { color: var(--primary); }

        /* Sections */
        section {
            background: var(--card);
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        h2 {
            color: var(--text);
            border-bottom: 2px solid var(--primary);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        h3 { margin: 25px 0 15px; color: #333; }
        p { margin: 10px 0; }
        ul, ol { margin: 10px 0; padding-left: 30px; }
        li { margin: 5px 0; }

        /* Code */
        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: "SF Mono", Monaco, Consolas, monospace;
            font-size: 0.9em;
        }
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
        }
        pre code { background: none; color: inherit; padding: 0; }

        /* Steps */
        .steps { counter-reset: step; }
        .step {
            position: relative;
            padding-left: 50px;
            margin: 20px 0;
        }
        .step::before {
            counter-increment: step;
            content: counter(step);
            position: absolute;
            left: 0;
            top: 0;
            width: 35px;
            height: 35px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Cards */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .card {
            background: var(--bg);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid var(--border);
        }
        .card h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        /* Alerts */
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .alert-info { background: #e3f2fd; border-left: 4px solid var(--primary); }
        .alert-warning { background: #fff3cd; border-left: 4px solid var(--warning); }
        .alert-success { background: #d4edda; border-left: 4px solid var(--success); }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        th { background: var(--bg); font-weight: 600; }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--muted);
        }
        footer a { color: var(--primary); text-decoration: none; }

        /* Responsive */
        @media (max-width: 600px) {
            header h1 { font-size: 1.8em; }
            nav a { padding: 12px 15px; font-size: 0.9em; }
            section { padding: 20px; }
        }
    </style>
</head>
<body>
    <header>
        <h1>Claude Code Proxy</h1>
        <p>è½»é‡çº§ Claude ä»£ç† - æ— éœ€é‡å¯å³å¯åˆ‡æ¢ä¾›åº”å•†</p>
        <div class="badges">
            <a href="https://github.com/QAA-Tools/ccproxy/releases"><img src="https://img.shields.io/github/v/release/QAA-Tools/ccproxy?style=flat-square" alt="Release"></a>
            <a href="https://github.com/QAA-Tools/ccproxy"><img src="https://img.shields.io/github/stars/QAA-Tools/ccproxy?style=flat-square" alt="Stars"></a>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#intro">ç®€ä»‹</a></li>
            <li><a href="#quick-start">å¿«é€Ÿå¼€å§‹</a></li>
            <li><a href="#config">é…ç½®è¯´æ˜</a></li>
            <li><a href="#claude-setup">Claude Code é…ç½®</a></li>
            <li><a href="#web-ui">Web UI ä½¿ç”¨</a></li>
            <li><a href="#advanced">é«˜çº§åŠŸèƒ½</a></li>
        </ul>
    </nav>

    <div class="container">
        <!-- ç®€ä»‹ -->
        <section id="intro">
            <h2>ç®€ä»‹</h2>
            <p>è½»é‡çº§ Claude API åå‘ä»£ç†å·¥å…·ï¼Œæä¾› Web UI ç®¡ç†å¤šä¸ªä¾›åº”å•†ï¼Œæ”¯æŒè‡ªåŠ¨æ¨¡å‹å‘ç°ã€å³æ—¶åˆ‡æ¢ç­‰åŠŸèƒ½ã€‚</p>
            <p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong>åœ¨å¤šä¸ªå…¬ç›Šç«™/è½¬å‘ç«™ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ï¼Œæ— éœ€é‡å¯ Claude Codeã€‚</p>
            <p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong>æ”¯æŒ HTTP è¦†å†™é…ç½®ï¼ˆHeader/Request/Query å‚æ•°ï¼‰ç»•è¿‡ç«™ç‚¹æ£€æµ‹ï¼›æä¾› Refresh & Test åŠŸèƒ½ä¸€é”®æµ‹è¯•æ‰€æœ‰ provider <del>å¹¶ä¿æŒè´¦æˆ·æ´»è·ƒ</del>ã€‚</p>
        </section>

        <!-- å¿«é€Ÿå¼€å§‹ -->
        <section id="quick-start">
            <h2>å¿«é€Ÿå¼€å§‹</h2>

            <div class="steps">
                <div class="step">
                    <strong>å¤åˆ¶é…ç½®æ–‡ä»¶</strong>
                    <pre><code>copy config.in.json config.json</code></pre>
                </div>
                <div class="step">
                    <strong>ç¼–è¾‘é…ç½®æ–‡ä»¶</strong>
                    <p>æ‰“å¼€ <code>config.json</code>ï¼Œå¡«å…¥ä½ çš„ä¾›åº”å•†ä¿¡æ¯ï¼ˆè¯¦è§ä¸‹æ–¹é…ç½®è¯´æ˜ï¼‰ã€‚</p>
                </div>
                <div class="step">
                    <strong>å¯åŠ¨ä»£ç†</strong>
                    <pre><code>python ccproxy.py --config config.json</code></pre>
                </div>
                <div class="step">
                    <strong>é…ç½® Claude Code</strong>
                    <p>ä¿®æ”¹ Claude Code é…ç½®æ–‡ä»¶ï¼ŒæŒ‡å‘æœ¬åœ°ä»£ç†ï¼ˆè¯¦è§ä¸‹æ–¹ Claude Code é…ç½®ï¼‰ã€‚</p>
                </div>
                <div class="step">
                    <strong>æ‰“å¼€ Web UI</strong>
                    <p>æµè§ˆå™¨è®¿é—® <code>http://127.0.0.1:3456</code>ï¼Œä½¿ç”¨ APIKEY ä½œä¸ºå¯†ç ç™»å½•ã€‚</p>
                </div>
            </div>

            <div class="alert alert-success">
                <strong>æç¤ºï¼š</strong>é¦–æ¬¡ä½¿ç”¨å»ºè®®å…ˆåœ¨ Web UI ä¸­ç‚¹å‡» <code>Refresh</code> æŒ‰é’®ï¼Œç¡®ä¿èƒ½æ­£å¸¸è·å–ä¸Šæ¸¸æ¨¡å‹ã€‚
            </div>
        </section>

        <!-- é…ç½®è¯´æ˜ -->
        <section id="config">
            <h2>é…ç½®è¯´æ˜</h2>

            <h3>config.json ç»“æ„</h3>
            <pre><code>{
  "HOST": "0.0.0.0",
  "PORT": 3456,
  "APIKEY": "sk-your-local-ui-key",
  "Providers": [
    {
      "name": "example-provider1",
      "api_base_url": "https://api.example.com/v1/messages",
      "api_key": "sk-provider-key-1",
      "models": [
        "claude-sonnet-4-5-20250929",
        "claude-opus-4-5-20251101"
      ],
      "comment": "å¯é€‰çš„å¤‡æ³¨ä¿¡æ¯"
    }
  ]
}</code></pre>

            <h3>é…ç½®é¡¹è¯´æ˜</h3>
            <table>
                <tr>
                    <th>é…ç½®é¡¹</th>
                    <th>è¯´æ˜</th>
                </tr>
                <tr>
                    <td><code>HOST</code></td>
                    <td>ä»£ç†æœåŠ¡å™¨ç›‘å¬åœ°å€ï¼ˆé€šå¸¸ä½¿ç”¨ 0.0.0.0 æˆ– 127.0.0.1ï¼‰</td>
                </tr>
                <tr>
                    <td><code>PORT</code></td>
                    <td>ä»£ç†æœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤ 3456ï¼‰</td>
                </tr>
                <tr>
                    <td><code>APIKEY</code></td>
                    <td>æœ¬åœ°è®¤è¯å¯†é’¥ - ç”¨äº Claude Code è¿æ¥å’Œ Web UI ç™»å½•</td>
                </tr>
                <tr>
                    <td><code>Providers</code></td>
                    <td>ä¸Šæ¸¸ä¾›åº”å•†åˆ—è¡¨ï¼Œå¯é…ç½®å¤šä¸ª</td>
                </tr>
            </table>

            <h3>Provider é…ç½®é¡¹</h3>
            <table>
                <tr>
                    <th>å­—æ®µ</th>
                    <th>è¯´æ˜</th>
                </tr>
                <tr>
                    <td><code>name</code></td>
                    <td>ä¾›åº”å•†åç§°ï¼ˆè‡ªå®šä¹‰ï¼Œç”¨äºè¯†åˆ«ï¼‰</td>
                </tr>
                <tr>
                    <td><code>api_base_url</code></td>
                    <td>ä¸Šæ¸¸ API åœ°å€ï¼ˆé€šå¸¸ä»¥ /v1/messages ç»“å°¾ï¼‰</td>
                </tr>
                <tr>
                    <td><code>api_key</code></td>
                    <td>ä¸Šæ¸¸ API å¯†é’¥</td>
                </tr>
                <tr>
                    <td><code>models</code></td>
                    <td>å¯ç”¨æ¨¡å‹åˆ—è¡¨ï¼ˆå¯é€šè¿‡ Web UI è‡ªåŠ¨åˆ·æ–°ï¼‰</td>
                </tr>
                <tr>
                    <td><code>comment</code></td>
                    <td>å¯é€‰å¤‡æ³¨ï¼ˆç”¨äºè®°å½•ä¾›åº”å•†ä¿¡æ¯ï¼‰</td>
                </tr>
            </table>

            <div class="alert alert-info">
                <strong>APIKEY çš„åŒé‡ä½œç”¨ï¼š</strong>
                <ul>
                    <li>ä½œä¸º Claude Code è¿æ¥ä»£ç†çš„è®¤è¯å¯†é’¥ï¼ˆ<code>ANTHROPIC_AUTH_TOKEN</code>ï¼‰</li>
                    <li>ä½œä¸º Web UI çš„ç™»å½•å¯†ç ï¼ˆç”¨æˆ·åä»»æ„ï¼‰</li>
                </ul>
            </div>
        </section>

        <!-- Claude Code é…ç½® -->
        <section id="claude-setup">
            <h2>Claude Code é…ç½®</h2>

            <h3>é…ç½®æ–‡ä»¶ä½ç½®</h3>
            <p>Claude Code çš„é…ç½®æ–‡ä»¶é€šå¸¸ä½äºï¼š</p>
            <ul>
                <li><strong>Windows:</strong> <code>%USERPROFILE%\.claude\settings.json</code></li>
                <li><strong>macOS/Linux:</strong> <code>~/.claude/settings.json</code></li>
            </ul>

            <h3>é…ç½®ç¤ºä¾‹</h3>
            <pre><code>{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "sk-your-local-ui-key",
    "ANTHROPIC_BASE_URL": "http://127.0.0.1:3456"
  }
}</code></pre>

            <div class="alert alert-warning">
                <strong>é‡è¦ï¼š</strong><code>ANTHROPIC_AUTH_TOKEN</code> å¿…é¡»ä¸ <code>config.json</code> ä¸­çš„ <code>APIKEY</code> ä¸€è‡´ï¼Œ<code>ANTHROPIC_BASE_URL</code> æŒ‡å‘æœ¬åœ°ä»£ç†åœ°å€ï¼ˆHOST:PORTï¼‰ã€‚ä¿®æ”¹é…ç½®åéœ€è¦é‡å¯ Claude Codeã€‚
            </div>
        </section>

        <!-- Web UI ä½¿ç”¨ -->
        <section id="web-ui">
            <h2>Web UI ä½¿ç”¨</h2>

            <p>æµè§ˆå™¨è®¿é—® <code>http://127.0.0.1:3456</code>ï¼Œä½¿ç”¨ <code>APIKEY</code> ä½œä¸ºå¯†ç ç™»å½•ï¼ˆç”¨æˆ·åä»»æ„ï¼‰ã€‚</p>

            <h3>æŒ‰é’®åŠŸèƒ½è¯´æ˜</h3>
            <table>
                <tr>
                    <th>æŒ‰é’®</th>
                    <th>åŠŸèƒ½è¯´æ˜</th>
                </tr>
                <tr>
                    <td><code>Reload Config</code></td>
                    <td>é‡æ–°åŠ è½½ <code>config.json</code> é…ç½®æ–‡ä»¶ï¼Œæ— éœ€é‡å¯ä»£ç†</td>
                </tr>
                <tr>
                    <td><code>Refresh & Test</code></td>
                    <td>ä¸€é”®åˆ·æ–°å¹¶æµ‹è¯•æ‰€æœ‰ providerï¼ˆåå°å¼‚æ­¥æ‰§è¡Œ<del>ï¼Œä¿æŒè´¦æˆ·æ´»è·ƒ</del>ï¼‰</td>
                </tr>
                <tr>
                    <td><code>Refresh</code></td>
                    <td>åˆ·æ–°å½“å‰ provider çš„æ¨¡å‹åˆ—è¡¨ï¼ˆä»ä¸Šæ¸¸ <code>/v1/models</code> è·å–ï¼‰</td>
                </tr>
                <tr>
                    <td><code>Copy</code></td>
                    <td>å¤åˆ¶ <code>/model xxx</code> å‘½ä»¤åˆ°å‰ªè´´æ¿ï¼Œç²˜è´´åˆ° Claude Code åˆ‡æ¢æ¨¡å‹</td>
                </tr>
                <tr>
                    <td><code>ç­¾åˆ°</code></td>
                    <td>æ‰“å¼€å¯¹åº”ç«™ç‚¹çš„ç­¾åˆ°é¡µé¢é¢†å–é¢åº¦ï¼ˆé»˜è®¤ <code>{domain}/console/personal</code>ï¼Œå¯åœ¨ provider ä¸­é…ç½® <code>checkin</code> å­—æ®µè‡ªå®šä¹‰ï¼‰</td>
                </tr>
                <tr>
                    <td><code>settings.json</code></td>
                    <td>å¤åˆ¶å½“å‰ provider çš„ Claude Code é…ç½®åˆ°å‰ªè´´æ¿ï¼ˆå¯ç›´æ¥ç²˜è´´åˆ° <code>~/.claude/settings.json</code>ï¼‰</td>
                </tr>
                <tr>
                    <td><code>Token</code></td>
                    <td>å¤åˆ¶å½“å‰ provider çš„ API Key åˆ°å‰ªè´´æ¿</td>
                </tr>
                <tr>
                    <td><code>URL</code></td>
                    <td>å¤åˆ¶å½“å‰ provider çš„ API Base URL åˆ°å‰ªè´´æ¿</td>
                </tr>
                <tr>
                    <td><code>Test</code></td>
                    <td>æµ‹è¯•å½“å‰é€‰ä¸­çš„ providerï¼ˆä½¿ç”¨ Provider Test é¢æ¿ä¸­é…ç½®çš„æ¨¡å‹å’Œæç¤ºè¯ï¼‰</td>
                </tr>
                <tr>
                    <td><code>Apply</code></td>
                    <td>åº”ç”¨å½“å‰é…ç½®çš„ HTTP è¦†å†™è§„åˆ™ï¼ˆæ‰€æœ‰ provider å…±äº«ï¼‰</td>
                </tr>
                <tr>
                    <td><code>Reset Override</code></td>
                    <td>é‡ç½® HTTP è¦†å†™é…ç½®ä¸ºé»˜è®¤ Auto æ¨¡å¼</td>
                </tr>
                <tr>
                    <td><code>Preset: Claude CLI</code></td>
                    <td>åº”ç”¨ ClaudeCode é¢„è®¾ç»„åˆï¼ˆHeader + Request è¦†å†™ï¼‰</td>
                </tr>
            </table>

            <div class="alert alert-info">
                <strong>ä¿æ´»æ“ä½œå»ºè®®ï¼š</strong>
                <ol>
                    <li>ç‚¹å‡» <code>Preset: Claude CLI</code> æŒ‰é’®ï¼Œè‡ªåŠ¨é…ç½® ClaudeCode é¢„è®¾ï¼ˆHeader + Request è¦†å†™ï¼‰</li>
                    <li>ç‚¹å‡» <code>Apply</code> æŒ‰é’®åº”ç”¨é…ç½®</li>
                    <li>åœ¨ Provider Test é¢æ¿ä¸­å¡«å†™æµ‹è¯•æç¤ºè¯ï¼ˆå»ºè®®ç®€çŸ­ï¼ŒèŠ‚çœé¢åº¦ï¼‰</li>
                    <li>ç‚¹å‡» <code>Refresh &amp; Test</code> æŒ‰é’®æ‰¹é‡æµ‹è¯•æ‰€æœ‰ provider<del>ï¼Œä¿æŒè´¦æˆ·æ´»è·ƒ</del></li>
                </ol>
                <strong>å…¶ä»–è¯´æ˜ï¼š</strong>ç­¾åˆ° URL å¯é€šè¿‡åœ¨ <code>config.json</code> çš„ provider ä¸­æ·»åŠ  <code>"checkin": "https://your-url"</code> å­—æ®µè‡ªå®šä¹‰ã€‚æµ‹è¯•ç»“æœä»¥é¢œè‰²æ ‡è¯†ï¼ˆç»¿è‰²=æˆåŠŸï¼Œé»‘è‰²=å¤±è´¥ï¼‰ï¼Œå®Œæ•´æ—¥å¿—è®°å½•åˆ° <code>ccproxy.log</code>ã€‚
            </div>
        </section>

        <!-- é«˜çº§åŠŸèƒ½ -->
        <section id="advanced">
            <h2>é«˜çº§åŠŸèƒ½</h2>

            <h3>HTTP è¦†å†™ï¼ˆHTTP Overridesï¼‰</h3>
            <p>åœ¨ Web UI å¯é…ç½®ç»Ÿä¸€çš„ HTTP è¦†å†™è§„åˆ™ï¼ˆæ‰€æœ‰ provider å…±äº«ï¼‰ï¼ŒåŒ…æ‹¬ï¼š</p>
            <ul>
                <li><strong>Token Configurationï¼š</strong>é…ç½® Token ä¼ é€’æ–¹å¼ï¼ˆQuery/Headerï¼‰å’Œæ ¼å¼</li>
                <li><strong>Header Overrideï¼š</strong>é€‰æ‹©é¢„è®¾çš„è¯·æ±‚å¤´è¦†å†™ï¼ˆå¦‚ ClaudeCode æ¨¡æ‹ŸçœŸå®å®¢æˆ·ç«¯ï¼‰</li>
                <li><strong>Request Overrideï¼š</strong>é€‰æ‹©é¢„è®¾çš„è¯·æ±‚ä½“è¦†å†™ï¼ˆæ³¨å…¥ system, tools, metadata ç­‰å­—æ®µï¼‰</li>
                <li><strong>Query Paramsï¼š</strong>æ·»åŠ  URL æŸ¥è¯¢å‚æ•°</li>
            </ul>

            <div class="alert alert-info">
                <strong>å¯æ‰©å±•è®¾è®¡ï¼š</strong>ä½ å¯ä»¥åœ¨ <code>config.json</code> ä¸­å®šä¹‰å¤šä¸ªè‡ªå®šä¹‰é¢„è®¾ï¼ŒWeb UI ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶åœ¨ä¸‹æ‹‰åˆ—è¡¨ä¸­æ˜¾ç¤ºã€‚æŸäº› provider éœ€è¦å®Œæ•´çš„å®¢æˆ·ç«¯ç‰¹å¾æ‰èƒ½é€šè¿‡éªŒè¯ï¼Œå»ºè®®å…ˆä½¿ç”¨å†…ç½®çš„ <code>ClaudeCode</code> é¢„è®¾ç»„åˆï¼Œå¦‚éœ€è‡ªå®šä¹‰è¯·å‚è€ƒä¸‹æ–¹è¯´æ˜ã€‚
            </div>

            <h3>å¦‚ä½•ç”Ÿæˆè‡ªå®šä¹‰è¦†å†™é…ç½®</h3>
            <p>å¦‚æœç°æœ‰é¢„è®¾æ— æ³•é€šè¿‡æŸäº› provider çš„æ£€æµ‹ï¼Œå¯ä»¥ä»å®é™…è¯·æ±‚æ—¥å¿—ä¸­ç”Ÿæˆè‡ªå®šä¹‰è¦†å†™é…ç½®ã€‚</p>

            <div class="steps">
                <div class="step">
                    <strong>æ­£å¸¸è®¿é—®è·å–åŸºå‡†è¯·æ±‚</strong>
                    <ul>
                        <li>åœ¨ Web UI ä¸­å°† Header Override å’Œ Request Override è®¾ç½®ä¸º <code>None (Passthrough)</code></li>
                        <li>ç‚¹å‡» <code>Apply</code> åº”ç”¨é…ç½®</li>
                        <li>ä½¿ç”¨ Claude Code æ­£å¸¸è®¿é—®ä¸€æ¬¡ç›®æ ‡ providerï¼ˆå‘é€ä»»æ„è¯·æ±‚ï¼‰</li>
                    </ul>
                </div>

                <div class="step">
                    <strong>æŸ¥çœ‹è¯·æ±‚æ—¥å¿—</strong>
                    <p>æ‰“å¼€ <code>ccproxy.log</code> æ–‡ä»¶ï¼Œæ‰¾åˆ°åˆšæ‰çš„è¯·æ±‚è®°å½•ï¼Œå®šä½åˆ°ï¼š</p>
                    <ul>
                        <li><code>forward: upstream_headers</code> - å®é™…å‘é€çš„è¯·æ±‚å¤´</li>
                        <li><code>forward: request_body</code> - å®é™…å‘é€çš„è¯·æ±‚ä½“</li>
                    </ul>
                </div>

                <div class="step">
                    <strong>ä½¿ç”¨ Claude Code è‡ªåŠ¨æ›´æ–°é…ç½®</strong>
                    <p>å¤åˆ¶ä»¥ä¸‹æç¤ºè¯åˆ° Claude Codeï¼Œè®© AI è‡ªåŠ¨åˆ†ææ—¥å¿—å¹¶æ›´æ–° <code>config.json</code> å’Œ <code>ccproxy.py</code>ï¼š</p>
                    <pre><code>æŸ¥çœ‹æœ€æ–°çš„ ccproxy.log æ—¥å¿—ï¼Œå¯¹æ¯”å½“å‰ config.json ä¸­ HeaderOverrides.ClaudeCode å’Œ RequestOverrides.ClaudeCode çš„é…ç½®ï¼Œä»¥åŠ ccproxy.py ä¸­æµ‹è¯•è¯·æ±‚çš„ model, messages æ ¼å¼ï¼Œæ‰¾å‡ºæ—¥å¿—ä¸­å®é™…å‘é€çš„è¯·æ±‚ä¸é…ç½®æ–‡ä»¶çš„å·®å¼‚ï¼Œç„¶ååŒæ—¶æ›´æ–° config.json å’Œ ccproxy.py ä½¿å…¶ä¸å®é™…è¯·æ±‚ä¸€è‡´ã€‚

å…·ä½“æ­¥éª¤ï¼š
1. æ£€æŸ¥æ—¥å¿—ä¸­æœ€è¿‘çš„ "forward: upstream_headers" éƒ¨åˆ†ï¼Œæå–æ‰€æœ‰è¯·æ±‚å¤´å­—æ®µ
2. æ£€æŸ¥æ—¥å¿—ä¸­æœ€è¿‘çš„ "forward: request_body" éƒ¨åˆ†ï¼Œæå–è¯·æ±‚ä½“ä¸­çš„ç‰¹æ®Šå­—æ®µï¼ˆå¦‚ system, tools, metadata, max_tokens, stream, thinking ç­‰ï¼‰
3. å¯¹æ¯” config.json ä¸­ç°æœ‰çš„ HeaderOverrides.ClaudeCode å’Œ RequestOverrides.ClaudeCode é…ç½®
4. å¯¹æ¯” ccproxy.py ä¸­ _test_provider æ–¹æ³•çš„ request_data æ ¼å¼ï¼ˆåº”ä»…åŒ…å« model, messagesï¼‰
5. æ›´æ–° config.json ä¸­ç¼ºå¤±æˆ–ä¸ä¸€è‡´çš„å­—æ®µï¼ˆRequestOverrides.ClaudeCode åº”åŒ…å« max_tokens, stream ç­‰å®Œæ•´å­—æ®µï¼‰
6. æ›´æ–° ccproxy.py ä¸­çš„æµ‹è¯•è¯·æ±‚æ ¼å¼ï¼ˆä»…ä¿ç•™ model, messagesï¼Œå…¶ä»–å­—æ®µç§»åˆ° RequestOverridesï¼‰
7. å‘Šè¯‰æˆ‘æ›´æ–°äº†å“ªäº›å†…å®¹</code></pre>
                </div>

                <div class="step">
                    <strong>åœ¨ Web UI ä¸­åº”ç”¨æ–°é…ç½®</strong>
                    <ul>
                        <li>åœ¨ ccproxy ä¸­ç‚¹å‡» <code>Reload Config</code> é‡æ–°åŠ è½½é…ç½®</li>
                        <li>é€‰æ‹© <code>ClaudeCode</code> é¢„è®¾</li>
                        <li>ç‚¹å‡» <code>Apply</code> åº”ç”¨</li>
                        <li>æµ‹è¯•æ˜¯å¦èƒ½æ­£å¸¸è®¿é—® provider</li>
                    </ul>
                </div>
            </div>

            <div class="alert alert-info">
                <strong>è‡ªå®šä¹‰è¦†å†™é¢„è®¾ï¼š</strong>
                <p>é™¤äº†å†…ç½®çš„ <code>ClaudeCode</code> é¢„è®¾ï¼Œä½ å¯ä»¥åœ¨ <code>config.json</code> ä¸­å®šä¹‰æ›´å¤šè‡ªå®šä¹‰é¢„è®¾ï¼ŒWeb UI ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶æ˜¾ç¤ºåœ¨ä¸‹æ‹‰åˆ—è¡¨ä¸­ï¼š</p>
                <pre><code>"HeaderOverrides": {
  "ClaudeCode": { ... },
  "MyCustomHeaders": {
    "User-Agent": "MyClient/1.0",
    "X-Custom-Header": "value"
  }
},
"RequestOverrides": {
  "ClaudeCode": { ... },
  "MyCustomRequest": {
    "max_tokens": 16000,
    "stream": false
  }
}</code></pre>
                <p><strong>RequestOverrides ç»“æ„è¯´æ˜ï¼š</strong></p>
                <ul>
                    <li><code>RequestOverrides.ClaudeCode</code> åº”åŒ…å«æ ‡å‡† Claude Code è¯·æ±‚çš„å®Œæ•´ç»“æ„ï¼ˆå¦‚ system, tools, metadata, max_tokens, stream, thinking ç­‰å­—æ®µï¼‰ï¼Œç”¨äºæ³¨å…¥åˆ°å®é™…è¯·æ±‚ä¸­</li>
                    <li>æµ‹è¯•è¯·æ±‚ï¼ˆTest/Refresh & Test æŒ‰é’®ï¼‰ä½¿ç”¨æœ€å°åŒ–çš„è¯·æ±‚ä½“ï¼ˆä»…åŒ…å« model, messagesï¼‰ï¼Œå…¶ä»–å­—æ®µä¼šè‡ªåŠ¨ä»æ‰€é€‰çš„ RequestOverrides é¢„è®¾ä¸­åˆå¹¶</li>
                    <li>ä½ å¯ä»¥ä¸ºä¸åŒåœºæ™¯åˆ›å»ºä¸åŒçš„é¢„è®¾ï¼ˆå¦‚è°ƒè¯•ç”¨çš„å° max_tokensï¼Œç”Ÿäº§ç”¨çš„å¤§ max_tokens ç­‰ï¼‰</li>
                </ul>
            </div>

            <h3>åå°è¿è¡Œï¼ˆLinuxï¼‰</h3>
            <p>ä½¿ç”¨æä¾›çš„ <code>run.sh</code> è„šæœ¬ç®¡ç†åå°è¿è¡Œï¼š</p>
            <pre><code>./run.sh start    # å¯åŠ¨
./run.sh stop     # åœæ­¢
./run.sh restart  # é‡å¯
./run.sh status   # æŸ¥çœ‹çŠ¶æ€</code></pre>
            <p>æ—¥å¿—æ–‡ä»¶ï¼š<code>ccproxy.log</code> | PID æ–‡ä»¶ï¼š<code>ccproxy.pid</code></p>

            <h3>çŠ¶æ€æŒä¹…åŒ–</h3>
            <p>ä»£ç†ä¼šå°†å½“å‰é€‰æ‹©çš„ Provider å’Œè®¤è¯è¦†ç›–è§„åˆ™ä¿å­˜åˆ° <code>proxy_state.json</code>ã€‚åˆ é™¤æ­¤æ–‡ä»¶ä¼šé‡ç½®ä¸ºç¬¬ä¸€ä¸ª Providerã€‚</p>
        </section>

    </div>

    <footer>
        <p>
            <a href="https://github.com/QAA-Tools/ccproxy">GitHub</a> Â·
            Built with Claude & Codex
        </p>
        <p style="margin-top: 10px; font-size: 0.9em;">
            Claude Code Proxy &copy; 2026
        </p>
    </footer>
</body>
</html>
